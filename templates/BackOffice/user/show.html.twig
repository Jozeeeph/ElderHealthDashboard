{% extends 'base.html.twig' %}
{% block title %}Détails Utilisateur{% endblock %}

{% block body %}
<div class="container mt-4">
    <h2>Détails Utilisateur</h2>

    <div class="card p-3">
        <p><strong>ID :</strong> {{ user.id }}</p>
        <p><strong>Email :</strong> {{ user.email }}</p>
        <p><strong>Nom :</strong> {{ user.nom }}</p>
        <p><strong>Prénom :</strong> {{ user.prenom }}</p>
        <p><strong>Adresse :</strong> {{ user.adresse }}</p>
        <p><strong>Age :</strong> {{ user.age }}</p>
        <p><strong>Date naissance :</strong> {{ user.dateNaissance ? user.dateNaissance|date('Y-m-d') : '' }}</p>
        <p><strong>Téléphone :</strong> {{ user.numeroTelephone }}</p>
        <p><strong>CIN :</strong> {{ user.cin }}</p>

        <hr>
        <p><strong>Statut demande :</strong> {{ user.accountStatus }}</p>
        <p><strong>Actif :</strong> {{ user.isActive ? 'Oui ✅' : 'Non ⛔' }}</p>
        <p><strong>Rôle métier :</strong> {{ user.roleMetier }}</p>
        <p><strong>Roles Symfony :</strong> {{ user.roles|join(', ') }}</p>

        <hr>
        <h5>Pièces / Informations spécifiques</h5>

        {% if user.dossierMedicalPath %}
            <p><strong>Dossier médical :</strong> <a href="{{ asset(user.dossierMedicalPath) }}" target="_blank">Télécharger</a></p>
        {% endif %}

        {% if user.cv %}
            <p><strong>CV :</strong> <a href="{{ asset(user.cv) }}" target="_blank">Télécharger</a></p>
        {% endif %}

        {% if user.certification %}
            <p><strong>Certification :</strong> <a href="{{ asset(user.certification) }}" target="_blank">Télécharger</a></p>
        {% endif %}

        {% if user.attestation %}
            <p><strong>Attestation :</strong> <a href="{{ asset(user.attestation) }}" target="_blank">Télécharger</a></p>
        {% endif %}

        {% if user.hopitalAffectation %}
            <p><strong>Hôpital affectation :</strong> {{ user.hopitalAffectation }}</p>
        {% endif %}
        {% if user.nbAnneeExperience is not null %}
            <p><strong>Années expérience :</strong> {{ user.nbAnneeExperience }}</p>
        {% endif %}
        {% if user.specialite %}
            <p><strong>Spécialité :</strong> {{ user.specialite }}</p>
        {% endif %}
        {% if user.fonction %}
            <p><strong>Fonction :</strong> {{ user.fonction }}</p>
        {% endif %}
        {% if user.patante %}
            <p><strong>Patente :</strong> {{ user.patante }}</p>
        {% endif %}
        {% if user.numeroFix %}
            <p><strong>Numéro Fixe :</strong> {{ user.numeroFix }}</p>
        {% endif %}
    </div>

    <div class="mt-3">
        <a href="{{ path('admin_users_index') }}" class="btn btn-secondary">Retour</a>
    </div>
</div>
{% endblock %}
