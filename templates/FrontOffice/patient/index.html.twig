{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('css/patient.css') }}?v=3">
{% endblock %}

{% block body %}
	<div
		class="patient-app">

		<!-- ================= TOPBAR ================= -->
		{% include 'FrontOffice/patient/_header.html.twig' %}


		<!-- ================= MAIN ================= -->
		<main
			class="patient-main">

			<!-- ================= WELCOME ================= -->
			<section class="welcome-card">
				<div class="welcome-content">
					<h1>
						Bonjour
						{{ app.user.prenom }}
						<span class="wave">üëã</span>
					</h1>

					<p>
						Bienvenue dans votre espace sant√©.  
						                    G√©rez vos rendez-vous, documents m√©dicaux et messages en toute simplicit√©.
					</p>

					<div class="actions">
						<a href="#" class="btn primary">Prendre rendez-vous</a>
						<a href="#" class="btn ghost">Contacter m√©decin</a>
						<a href="#" class="btn ghost">Modifier mon profil</a>
					</div>
				</div>
			</section>

			<!-- ================= STATS ================= -->
			<section class="stats">

				<div class="stat-card">
					<h3>Prochain RDV</h3>
					<p>12 F√©vrier 2026 ‚Äì 10:30</p>
					<span class="tag ok">Confirm√©</span>
				</div>

				<div class="stat-card">
					<h3>Dossier m√©dical</h3>

					{% if app.user.dossierMedicalPath %}
						<p>Dossier disponible</p>
						<a href="{{ app.user.dossierMedicalPath }}" target="_blank" class="tag ok">
							Voir PDF
						</a>
					{% else %}
						<p>Aucun dossier</p>
						<span class="tag warn">√Ä uploader</span>
					{% endif %}
				</div>

				<div class="stat-card">
					<h3>Alertes</h3>
					<p>1 notification</p>
					<span class="tag warn">√Ä v√©rifier</span>
				</div>

			</section>

			<!-- ================= CONTENT GRID ================= -->
			<section
				class="content-grid">

				<!-- PATIENT INFO -->
				<div class="card">
					<h2>Mes informations</h2>

					<div class="item">
						<strong>Nom :</strong>
						{{ app.user.nom }}</div>
					<div class="item">
						<strong>Pr√©nom :</strong>
						{{ app.user.prenom }}</div>
					<div class="item">
						<strong>Email :</strong>
						{{ app.user.email }}</div>
					<div class="item">
						<strong>T√©l√©phone :</strong>
						{{ app.user.numeroTelephone }}</div>
					<div class="item">
						<strong>Adresse :</strong>
						{{ app.user.adresse }}</div>
					<div class="item">
						<strong>Date de naissance :</strong>
						{{ app.user.dateNaissance|date('d/m/Y') }}
					</div>
					<div class="item">
						<strong>√Çge :</strong>
						{{ app.user.age }}
						ans</div>
				</div>

				<!-- DOCUMENTS -->
				<div class="card">
					<h2>Documents r√©cents</h2>

					{% if app.user.dossierMedicalPath %}
						<div class="item">
							<strong>Dossier m√©dical</strong>
							<p>Disponible</p>
							<a href="{{ app.user.dossierMedicalPath }}" target="_blank" class="btn ghost">
								Ouvrir
							</a>
						</div>
					{% else %}
						<p class="text-muted">Aucun document m√©dical pour le moment.</p>
					{% endif %}
				</div>

				<!-- MESSAGES -->
				<div class="card">
					<h2>Messages</h2>

					<div class="item">
						<strong>Dr. Amina Trabelsi</strong>
						<p>Vos r√©sultats sont rassurants.</p>
					</div>

					<a href="#" class="btn primary full">Nouveau message</a>
				</div>

			</section>

		</main>
	</div>

	 <script>
	window.addEventListener('scroll', () => {
	    document.querySelector('.topbar')
	        ?.classList.toggle('is-scrolled', window.scrollY > 10);
	});
	</script>
{% endblock %}
